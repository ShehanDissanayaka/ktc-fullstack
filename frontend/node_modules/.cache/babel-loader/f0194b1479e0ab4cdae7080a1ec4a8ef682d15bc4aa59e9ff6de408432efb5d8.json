{"ast":null,"code":"import _objectSpread from\"G:/Development/ktc/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/components/ItemMaster/ItemMaster.js\nimport React,{useState,useEffect,useCallback,useRef,useMemo}from\"react\";import{useNavigate}from\"react-router-dom\";import{motion,AnimatePresence}from\"framer-motion\";import axios from\"../../api/axios\";// ← same base instance you use elsewhere\nimport\"./itemMaster.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const blank={itemType:\"\",// warranty | utensil | spare\ncode:\"\",group:\"\",type:\"\",category:\"\",modelNumber:\"\",name:\"\",spec:\"\",description:\"\",uom:\"\",warranty:\"\",reorderLevel:0,reorderQty:0,minLevel:0,maxLevel:0,purchasingPrice:0,sellingPrice:0,barcode:\"\",printQty:1,active:true,invoicable:false,barcodeAvailable:false,serialNumber:\"\",brandName:\"\",originCountry:\"\",certificate:\"\",notes:[\"\",\"\",\"\",\"\",\"\"],// special note 01–05\npower:\"\",voltage:\"\",tempRange:\"\",housingMaterial:\"\",dimension:\"\",netWeight:\"\",image:null// for warranty items\n};const API=\"/api/item/\";const toBackend=f=>({ITEM_code:f.code,ITEM_type:f.itemType,// warranty | utensil | spare\nITEM_group:f.group,ITEM_type_ref:f.type,ITEM_category:f.category,ITEM_description:f.description,ITEM_uom:f.uom,ITEM_warranty:f.warranty,ITEM_reorder_level:f.reorderLevel,ITEM_reorder_qty:f.reorderQty,ITEM_min_level:f.minLevel,ITEM_max_level:f.maxLevel,ITEM_purchase_price:f.purchasingPrice,ITEM_normal_selling_price:f.sellingPrice,ITEM_has_barcode:f.barcodeAvailable,ITEM_barcode:f.barcode,ITEM_invoicable:f.invoicable,ITEM_active:f.active,// Warranty-specific fields\nITEM_serial_number:f.serialNumber,ITEM_model_number:f.modelNumber,ITEM_spec:f.spec,ITEM_brand_name:f.brandName,ITEM_origin_country:f.originCountry,ITEM_certificate:f.certificate,ITEM_power:f.power,ITEM_voltage:f.voltage,ITEM_temp_range:f.tempRange,ITEM_housing_material:f.housingMaterial,ITEM_dimension:f.dimension,ITEM_net_weight:f.netWeight,// Utensil fields\nITEM_name:f.name,ITEM_dimension:f.dimension,ITEM_net_weight:f.netWeight,// Notes (array)\nITEM_notes:f.notes// [\"note1\", \"note2\", ...]\n});const fromBackend=it=>({id:it.id,code:it.ITEM_code,description:it.ITEM_description});const ItemMaster=()=>{const[form,setForm]=useState(blank);const[items,setItems]=useState([]);const[search,setSearch]=useState(\"\");const codeInputRef=useRef(null);const navigate=useNavigate();const[imageFile,setImageFile]=useState(null);const[showWarrantyModal,setShowWarrantyModal]=useState(false);/* ---------- fetch list ---------- */const fetchItems=useCallback(async()=>{try{const res=await axios.get(API);setItems(res.data.map(fromBackend));}catch(err){console.error(err);alert(\"Error fetching items\");}},[]);useEffect(()=>{fetchItems();},[fetchItems]);/* ------------from select in the groupmaster-------- */const[groupOptions,setGroupOptions]=useState([]);useEffect(()=>{const fetchGroups=async()=>{try{const response=await axios.get(\"/api/groupMasters/\");setGroupOptions(response.data);// response should be an array of { GROUP_code, GROUP_description }\n}catch(error){console.error(\"Error fetching group codes:\",error);alert(\"Failed to fetch group codes\");}};fetchGroups();},[]);/* -------from select in the typeMaster------ */const[typeOptions,setTypeOptions]=useState([]);useEffect(()=>{const fetchTypes=async()=>{try{const res=await axios.get(\"/api/typeMasters/\");setTypeOptions(res.data);// [{ TYPE_code, TYPE_description, … }]\n}catch(err){console.error(\"Error loading types:\",err);alert(\"Failed to load types\");}};fetchTypes();},[]);/* -------from select in the Categorymaster------ */const[categoryOptions,setCategoryOptions]=useState([]);useEffect(()=>{const fetchCategories=async()=>{try{const res=await axios.get(\"/api/categoryMasters/\");setCategoryOptions(res.data);// [{ CATEGORY_code, CATEGORY_description, ... }]\n}catch(err){console.error(\"Error loading categories:\",err);alert(\"Failed to load categories\");}};fetchCategories();},[]);/* ---------- handlers ---------- */const onChange=e=>{const{name,value,type,checked}=e.target;setForm(p=>_objectSpread(_objectSpread({},p),{},{[name]:type===\"checkbox\"?checked:value}));};const resetForm=()=>setForm(blank);const saveItem=useCallback(async()=>{console.log(\"Saving item...\",form);try{const data=new FormData();// Add normal fields\ndata.append(\"ITEM_code\",form.code);data.append(\"ITEM_type\",form.itemType);data.append(\"ITEM_group\",form.group);data.append(\"ITEM_type_ref\",form.type);data.append(\"ITEM_category\",form.category);data.append(\"ITEM_description\",form.description);data.append(\"ITEM_uom\",form.uom);data.append(\"ITEM_warranty\",form.warranty);data.append(\"ITEM_reorder_level\",form.reorderLevel);data.append(\"ITEM_reorder_qty\",form.reorderQty);data.append(\"ITEM_min_level\",form.minLevel);data.append(\"ITEM_max_level\",form.maxLevel);data.append(\"ITEM_purchase_price\",form.purchasingPrice);data.append(\"ITEM_normal_selling_price\",form.sellingPrice);data.append(\"ITEM_has_barcode\",form.barcodeAvailable);data.append(\"ITEM_barcode\",form.barcode);data.append(\"ITEM_invoicable\",form.invoicable);data.append(\"ITEM_active\",form.active);data.append(\"ITEM_serial_number\",form.serialNumber);data.append(\"ITEM_model_number\",form.modelNumber);data.append(\"ITEM_spec\",form.spec);data.append(\"ITEM_brand_name\",form.brandName);data.append(\"ITEM_origin_country\",form.originCountry);data.append(\"ITEM_certificate\",form.certificate);data.append(\"ITEM_name\",form.name);data.append(\"power\",form.power);data.append(\"voltage\",form.voltage);data.append(\"temp_range\",form.tempRange);data.append(\"housing_material\",form.housingMaterial);data.append(\"ITEM_dimension\",form.dimension);data.append(\"ITEM_net_weight\",form.netWeight);// ✅ Append ITEM_notes one by one\nform.notes.forEach(note=>{data.append(\"ITEM_notes\",note||\"\");});// File upload\nif(imageFile){data.append(\"image\",imageFile);}const res=await axios.post(API,data,{headers:{'Content-Type':'multipart/form-data'},transformRequest:formData=>formData// Prevent Axios serialization\n});if(res.status===201){alert(\"✅ Item saved!\");resetForm();fetchItems();}}catch(err){var _err$response;console.error(\"❌ Axios Error:\",err);if((_err$response=err.response)!==null&&_err$response!==void 0&&_err$response.data){let msg=\"Error:\\n\";for(let key in err.response.data){const value=err.response.data[key];if(Array.isArray(value)){msg+=\"\".concat(key,\": \").concat(value.join(', '),\"\\n\");}else{msg+=\"\".concat(key,\": \").concat(value,\"\\n\");}}alert(msg);}else{alert(\"Unknown error saving item\");}}},[form,fetchItems,imageFile]);const removeItem=()=>{if(!form.code)return alert(\"Enter a code to remove.\");alert(\"Remove not implemented (demo).\");};const printBarcode=()=>{if(!form.barcodeAvailable)return alert(\"Barcode not available.\");alert(\"Printing \".concat(form.barcode,\" \\u2013 Qty \").concat(form.printQty));};const handleImageUpload=e=>{const file=e.target.files[0];if(file){setForm(prev=>_objectSpread(_objectSpread({},prev),{},{image:file}));}};/* ---------- shortcuts ---------- */useEffect(()=>{const onKey=e=>{if(e.ctrlKey&&e.key.toLowerCase()===\"s\"){e.preventDefault();saveItem();}else if(e.ctrlKey&&e.key.toLowerCase()===\"n\"){e.preventDefault();resetForm();}else if(e.key===\"F2\"){var _codeInputRef$current;e.preventDefault();(_codeInputRef$current=codeInputRef.current)===null||_codeInputRef$current===void 0?void 0:_codeInputRef$current.focus();}else if(e.key===\"Escape\"){e.preventDefault();navigate(\"/stockcontrol\");}};window.addEventListener(\"keydown\",onKey);return()=>window.removeEventListener(\"keydown\",onKey);},[saveItem,navigate]);/* ---------- search ---------- */const[searchCode,setSearchCode]=useState(\"\");const[searchDesc,setSearchDesc]=useState(\"\");// …and update `filtered`:\nconst filtered=useMemo(()=>items.filter(i=>{var _i$description;return i.code.toLowerCase().includes(searchCode.toLowerCase())&&((_i$description=i.description)===null||_i$description===void 0?void 0:_i$description.toLowerCase().includes(searchDesc.toLowerCase()));}),[items,searchCode,searchDesc]);return/*#__PURE__*/_jsxs(\"div\",{className:\"item-master-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"Item Master\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left-column\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Code\"}),/*#__PURE__*/_jsx(\"input\",{name:\"code\",value:form.code,onChange:onChange,ref:codeInputRef})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Group\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"group\",value:form.group,onChange:onChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select\"}),groupOptions.map(g=>/*#__PURE__*/_jsxs(\"option\",{value:g.GROUP_code,children:[g.GROUP_code,\" - \",g.GROUP_description]},g.GROUP_code))]}),/*#__PURE__*/_jsx(\"label\",{children:\"Type\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"type\",value:form.type,onChange:onChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select\"}),typeOptions.map(t=>/*#__PURE__*/_jsxs(\"option\",{value:t.TYPE_code,children:[t.TYPE_code,\" - \",t.TYPE_description]},t.TYPE_code))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",rows:\"3\",value:form.description,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Re-order Level\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"reorderLevel\",value:form.reorderLevel,onChange:onChange}),/*#__PURE__*/_jsx(\"label\",{children:\"Re-order QTY\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"reorderQty\",value:form.reorderQty,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Min Level\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"minLevel\",value:form.minLevel,onChange:onChange}),/*#__PURE__*/_jsx(\"label\",{children:\"Max Level\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"maxLevel\",value:form.maxLevel,onChange:onChange})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-column\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"checkbox-section\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"active\",checked:form.active,onChange:onChange}),\"Active\",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"invoicable\",checked:form.invoicable,onChange:onChange}),\"Invoicable\"]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"inline-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Category\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"category\",value:form.category,onChange:onChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select\"}),categoryOptions.map(cat=>/*#__PURE__*/_jsxs(\"option\",{value:cat.CATEGORY_code,children:[cat.CATEGORY_code,\" - \",cat.CATEGORY_description]},cat.CATEGORY_code))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inline-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"UOM\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"uom\",value:form.uom,onChange:onChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"Liters(L)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"Milliliters(mL)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"Kilograms(kg)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\",children:\"Grams(g)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"5\",children:\"Millimeters(m)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"6\",children:\"meters(m)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"7\",children:\"Inches(in)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"8\",children:\"feet(ft)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"9\",children:\"yards(yd)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"10\",children:\"Units\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inline-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Warranty\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"warranty\",value:form.warranty,onChange:onChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"Yes\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"No\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Item Code\"}),/*#__PURE__*/_jsx(\"input\",{name:\"code\",value:form.code,onChange:onChange,ref:codeInputRef,disabled:form.itemType===\"warranty\"// system-generated\n})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Item Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:form.itemType,onChange:e=>{const selected=e.target.value;setForm(prev=>_objectSpread(_objectSpread({},prev),{},{itemType:selected}));if(selected===\"\"){setShowWarrantyModal(false);// Don't open popup when selecting default\n}else{setShowWarrantyModal(true);// Always open popup for any valid selection\n}if(selected!==\"warranty\"){setForm(prev=>_objectSpread(_objectSpread({},prev),{},{serialNumber:\"\"}));}},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Select --\"}),/*#__PURE__*/_jsx(\"option\",{value:\"warranty\",children:\"Warranty\"}),/*#__PURE__*/_jsx(\"option\",{value:\"non-warranty\",children:\"Non-Warranty\"}),/*#__PURE__*/_jsx(\"option\",{value:\"utensil\",children:\"Utensil\"}),/*#__PURE__*/_jsx(\"option\",{value:\"spare\",children:\"Spare Part\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bottom-section\",children:[/*#__PURE__*/_jsxs(\"fieldset\",{className:\"price-box\",children:[/*#__PURE__*/_jsx(\"legend\",{children:\"Prices\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Purchasing Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"purchasingPrice\",value:form.purchasingPrice,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Min Selling Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"sellingPrice\",value:form.sellingPrice,onChange:onChange})]})]}),/*#__PURE__*/_jsxs(\"fieldset\",{className:\"barcode-box\",children:[/*#__PURE__*/_jsx(\"legend\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"barcodeAvailable\",checked:form.barcodeAvailable,onChange:onChange}),\"Barcode Available\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"inline-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Barcode\"}),/*#__PURE__*/_jsx(\"input\",{name:\"barcode\",value:form.barcode,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inline-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Print QTY\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"printQty\",value:form.printQty,onChange:onChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:printBarcode,children:\"Print\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-group\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:saveItem,children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{onClick:resetForm,children:\"New\"}),/*#__PURE__*/_jsx(\"button\",{onClick:removeItem,children:\"Remove\"}),/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{const res=await axios.get(\"/api/price-list/pdf/\",{responseType:'blob'});const url=window.URL.createObjectURL(new Blob([res.data],{type:'application/pdf'}));window.open(url,\"_blank\");},children:\"Download Price List PDF\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Item Search\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Code\",value:searchCode,onChange:e=>setSearchCode(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Description\",value:searchDesc,onChange:e=>setSearchDesc(e.target.value)})]}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Code\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Item Description\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filtered.length?filtered.map(it=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:it.code}),/*#__PURE__*/_jsx(\"td\",{children:it.description})]},it.id)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",style:{textAlign:\"center\"},children:\"No matching items\"})})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"footer-hint\",children:\"Save = Ctrl+S | New = Ctrl+N | Focus Search = F2 | Exit = Esc\"}),showWarrantyModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Enter Item Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Name\",value:form.name,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{name:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Model Number\",value:form.modelNumber,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{modelNumber:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Spec/Capacity\",value:form.spec,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{spec:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Power\",value:form.power,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{power:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Voltage\",value:form.voltage,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{voltage:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Temp. Range\",value:form.tempRange,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{tempRange:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Housing Material\",value:form.housingMaterial,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{housingMaterial:e.target.value}))}),[...Array(5)].map((_,i)=>/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Special Note 0\".concat(i+1),value:form.notes[i],onChange:e=>{const newNotes=[...form.notes];newNotes[i]=e.target.value;setForm(prev=>_objectSpread(_objectSpread({},prev),{},{notes:newNotes}));}},i)),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Dimension\",value:form.dimension,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{dimension:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Net Weight\",value:form.netWeight,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{netWeight:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Brand Name\",value:form.brandName,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{brandName:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Country of Origin\",value:form.originCountry,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{originCountry:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Certificate\",value:form.certificate,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{certificate:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Serial Number\",value:form.serialNumber,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{serialNumber:e.target.value})),disabled:form.itemType!==\"warranty\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:e=>{const file=e.target.files[0];if(file){setImageFile(file);setForm(prev=>_objectSpread(_objectSpread({},prev),{},{image:file.name}));}}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-group\",style:{marginTop:'20px',justifyContent:'flex-end'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowWarrantyModal(false),children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowWarrantyModal(false),children:\"Done\"})]})]})})]});{form.itemType===\"warranty\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Model Number\"}),/*#__PURE__*/_jsx(\"input\",{name:\"modelNumber\",value:form.modelNumber,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{name:\"name\",value:form.name,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Spec / Capacity\"}),/*#__PURE__*/_jsx(\"input\",{name:\"spec\",value:form.spec,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Serial Number\"}),/*#__PURE__*/_jsx(\"input\",{name:\"serialNumber\",value:form.serialNumber,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Brand Name\"}),/*#__PURE__*/_jsx(\"input\",{name:\"brandName\",value:form.brandName,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Country of Origin\"}),/*#__PURE__*/_jsx(\"input\",{name:\"originCountry\",value:form.originCountry,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Certificate\"}),/*#__PURE__*/_jsx(\"input\",{name:\"certificate\",value:form.certificate,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Power\"}),/*#__PURE__*/_jsx(\"input\",{name:\"power\",value:form.power,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Voltage\"}),/*#__PURE__*/_jsx(\"input\",{name:\"voltage\",value:form.voltage,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Temperature Range\"}),/*#__PURE__*/_jsx(\"input\",{name:\"tempRange\",value:form.tempRange,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Housing Material\"}),/*#__PURE__*/_jsx(\"input\",{name:\"housingMaterial\",value:form.housingMaterial,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Dimension\"}),/*#__PURE__*/_jsx(\"input\",{name:\"dimension\",value:form.dimension,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Net Weight\"}),/*#__PURE__*/_jsx(\"input\",{name:\"netWeight\",value:form.netWeight,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Upload Image\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleImageUpload})]}),[...Array(5)].map((_,i)=>/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Special Note 0\",i+1]}),/*#__PURE__*/_jsx(\"input\",{name:\"notes[\".concat(i,\"]\"),value:form.notes[i],onChange:e=>{const newNotes=[...form.notes];newNotes[i]=e.target.value;setForm(prev=>_objectSpread(_objectSpread({},prev),{},{notes:newNotes}));}})]},i))]});}{form.itemType===\"utensil\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Model No\"}),/*#__PURE__*/_jsx(\"input\",{name:\"modelNumber\",value:form.modelNumber,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Spec / Capacity\"}),/*#__PURE__*/_jsx(\"input\",{name:\"spec\",value:form.spec,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Dimension\"}),/*#__PURE__*/_jsx(\"input\",{name:\"dimension\",value:form.dimension||\"\",onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Net Weight\"}),/*#__PURE__*/_jsx(\"input\",{name:\"netWeight\",value:form.netWeight||\"\",onChange:onChange})]}),[...Array(3)].map((_,i)=>/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Special Note 0\",i+1]}),/*#__PURE__*/_jsx(\"input\",{name:\"notes[\".concat(i,\"]\"),value:form.notes[i],onChange:e=>{const newNotes=[...form.notes];newNotes[i]=e.target.value;setForm(prev=>_objectSpread(_objectSpread({},prev),{},{notes:newNotes}));}})]},i))]});}{form.id&&/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{const res=await axios.get(\"/api/item/\".concat(form.id,\"/pdf/\"),{responseType:'blob'});const url=window.URL.createObjectURL(new Blob([res.data],{type:'application/pdf'}));window.open(url,\"_blank\");},children:\"Download Warranty PDF\"});}};export default ItemMaster;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","useMemo","useNavigate","motion","AnimatePresence","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","blank","itemType","code","group","type","category","modelNumber","name","spec","description","uom","warranty","reorderLevel","reorderQty","minLevel","maxLevel","purchasingPrice","sellingPrice","barcode","printQty","active","invoicable","barcodeAvailable","serialNumber","brandName","originCountry","certificate","notes","power","voltage","tempRange","housingMaterial","dimension","netWeight","image","API","toBackend","f","ITEM_code","ITEM_type","ITEM_group","ITEM_type_ref","ITEM_category","ITEM_description","ITEM_uom","ITEM_warranty","ITEM_reorder_level","ITEM_reorder_qty","ITEM_min_level","ITEM_max_level","ITEM_purchase_price","ITEM_normal_selling_price","ITEM_has_barcode","ITEM_barcode","ITEM_invoicable","ITEM_active","ITEM_serial_number","ITEM_model_number","ITEM_spec","ITEM_brand_name","ITEM_origin_country","ITEM_certificate","ITEM_power","ITEM_voltage","ITEM_temp_range","ITEM_housing_material","ITEM_dimension","ITEM_net_weight","ITEM_name","ITEM_notes","fromBackend","it","id","ItemMaster","form","setForm","items","setItems","search","setSearch","codeInputRef","navigate","imageFile","setImageFile","showWarrantyModal","setShowWarrantyModal","fetchItems","res","get","data","map","err","console","error","alert","groupOptions","setGroupOptions","fetchGroups","response","typeOptions","setTypeOptions","fetchTypes","categoryOptions","setCategoryOptions","fetchCategories","onChange","e","value","checked","target","p","_objectSpread","resetForm","saveItem","log","FormData","append","forEach","note","post","headers","transformRequest","formData","status","_err$response","msg","key","Array","isArray","concat","join","removeItem","printBarcode","handleImageUpload","file","files","prev","onKey","ctrlKey","toLowerCase","preventDefault","_codeInputRef$current","current","focus","window","addEventListener","removeEventListener","searchCode","setSearchCode","searchDesc","setSearchDesc","filtered","filter","i","_i$description","includes","className","children","ref","g","GROUP_code","GROUP_description","t","TYPE_code","TYPE_description","rows","cat","CATEGORY_code","CATEGORY_description","disabled","selected","onClick","responseType","url","URL","createObjectURL","Blob","open","placeholder","length","colSpan","style","textAlign","_","newNotes","accept","marginTop","justifyContent"],"sources":["G:/Development/ktc/frontend/src/components/Item Master/itemMaster.js"],"sourcesContent":["// src/components/ItemMaster/ItemMaster.js\r\nimport React, { useState, useEffect, useCallback, useRef, useMemo } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport axios from \"../../api/axios\";   // ← same base instance you use elsewhere\r\nimport \"./itemMaster.css\";\r\n\r\nconst blank = {\r\n    itemType: \"\", // warranty | utensil | spare\r\n    code: \"\",\r\n    group: \"\",\r\n    type: \"\",\r\n    category: \"\",\r\n    modelNumber: \"\",\r\n    name: \"\",\r\n    spec: \"\",\r\n    description: \"\",\r\n    uom: \"\",\r\n    warranty: \"\",\r\n    reorderLevel: 0,\r\n    reorderQty: 0,\r\n    minLevel: 0,\r\n    maxLevel: 0,\r\n    purchasingPrice: 0,\r\n    sellingPrice: 0,\r\n    barcode: \"\",\r\n    printQty: 1,\r\n    active: true,\r\n    invoicable: false,\r\n    barcodeAvailable: false,\r\n    serialNumber: \"\",\r\n    brandName: \"\",\r\n    originCountry: \"\",\r\n    certificate: \"\",\r\n    notes: [\"\", \"\", \"\", \"\", \"\"], // special note 01–05\r\n    power: \"\",\r\n    voltage: \"\",\r\n    tempRange: \"\",\r\n    housingMaterial: \"\",\r\n    dimension: \"\",\r\n    netWeight: \"\",\r\n\r\n    image: null, // for warranty items\r\n};\r\n\r\n\r\nconst API = \"/api/item/\";\r\n\r\nconst toBackend = (f) => ({\r\n    ITEM_code: f.code,\r\n    ITEM_type: f.itemType, // warranty | utensil | spare\r\n    ITEM_group: f.group,\r\n    ITEM_type_ref: f.type,\r\n    ITEM_category: f.category,\r\n    ITEM_description: f.description,\r\n    ITEM_uom: f.uom,\r\n    ITEM_warranty: f.warranty,\r\n    ITEM_reorder_level: f.reorderLevel,\r\n    ITEM_reorder_qty: f.reorderQty,\r\n    ITEM_min_level: f.minLevel,\r\n    ITEM_max_level: f.maxLevel,\r\n    ITEM_purchase_price: f.purchasingPrice,\r\n    ITEM_normal_selling_price: f.sellingPrice,\r\n    ITEM_has_barcode: f.barcodeAvailable,\r\n    ITEM_barcode: f.barcode,\r\n    ITEM_invoicable: f.invoicable,\r\n    ITEM_active: f.active,\r\n\r\n    // Warranty-specific fields\r\n    ITEM_serial_number: f.serialNumber,\r\n    ITEM_model_number: f.modelNumber,\r\n    ITEM_spec: f.spec,\r\n    ITEM_brand_name: f.brandName,\r\n    ITEM_origin_country: f.originCountry,\r\n    ITEM_certificate: f.certificate,\r\n    ITEM_power: f.power,\r\n    ITEM_voltage: f.voltage,\r\n    ITEM_temp_range: f.tempRange,\r\n    ITEM_housing_material: f.housingMaterial,\r\n    ITEM_dimension: f.dimension,\r\n    ITEM_net_weight: f.netWeight,\r\n\r\n\r\n    // Utensil fields\r\n    ITEM_name: f.name,\r\n    ITEM_dimension: f.dimension,\r\n    ITEM_net_weight: f.netWeight,\r\n\r\n    // Notes (array)\r\n    ITEM_notes: f.notes, // [\"note1\", \"note2\", ...]\r\n});\r\n\r\n\r\nconst fromBackend = (it) => ({\r\n    id: it.id,\r\n    code: it.ITEM_code,\r\n    description: it.ITEM_description,\r\n});\r\n\r\n\r\n\r\nconst ItemMaster = () => {\r\n    const [form, setForm] = useState(blank);\r\n    const [items, setItems] = useState([]);\r\n    const [search, setSearch] = useState(\"\");\r\n    const codeInputRef = useRef(null);\r\n    const navigate = useNavigate();\r\n    const [imageFile, setImageFile] = useState(null);\r\n    const [showWarrantyModal, setShowWarrantyModal] = useState(false);\r\n\r\n\r\n    /* ---------- fetch list ---------- */\r\n    const fetchItems = useCallback(async () => {\r\n        try {\r\n            const res = await axios.get(API);\r\n            setItems(res.data.map(fromBackend));\r\n        } catch (err) {\r\n            console.error(err);\r\n            alert(\"Error fetching items\");\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => { fetchItems(); }, [fetchItems]);\r\n\r\n    /* ------------from select in the groupmaster-------- */\r\n    const [groupOptions, setGroupOptions] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const fetchGroups = async () => {\r\n            try {\r\n                const response = await axios.get(\"/api/groupMasters/\");\r\n                setGroupOptions(response.data); // response should be an array of { GROUP_code, GROUP_description }\r\n            } catch (error) {\r\n                console.error(\"Error fetching group codes:\", error);\r\n                alert(\"Failed to fetch group codes\");\r\n            }\r\n        };\r\n\r\n        fetchGroups();\r\n    }, []);\r\n\r\n    /* -------from select in the typeMaster------ */\r\n\r\n    const [typeOptions, setTypeOptions] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const fetchTypes = async () => {\r\n            try {\r\n                const res = await axios.get(\"/api/typeMasters/\");\r\n                setTypeOptions(res.data);              // [{ TYPE_code, TYPE_description, … }]\r\n            } catch (err) {\r\n                console.error(\"Error loading types:\", err);\r\n                alert(\"Failed to load types\");\r\n            }\r\n        };\r\n\r\n        fetchTypes();\r\n    }, []);\r\n\r\n    /* -------from select in the Categorymaster------ */\r\n\r\n    const [categoryOptions, setCategoryOptions] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const fetchCategories = async () => {\r\n            try {\r\n                const res = await axios.get(\"/api/categoryMasters/\");\r\n                setCategoryOptions(res.data); // [{ CATEGORY_code, CATEGORY_description, ... }]\r\n            } catch (err) {\r\n                console.error(\"Error loading categories:\", err);\r\n                alert(\"Failed to load categories\");\r\n            }\r\n        };\r\n\r\n        fetchCategories();\r\n    }, []);\r\n\r\n\r\n\r\n    /* ---------- handlers ---------- */\r\n    const onChange = (e) => {\r\n        const { name, value, type, checked } = e.target;\r\n        setForm((p) => ({ ...p, [name]: type === \"checkbox\" ? checked : value }));\r\n    };\r\n\r\n    const resetForm = () => setForm(blank);\r\n\r\n    const saveItem = useCallback(async () => {\r\n        console.log(\"Saving item...\", form);\r\n\r\n        try {\r\n            const data = new FormData();\r\n\r\n            // Add normal fields\r\n            data.append(\"ITEM_code\", form.code);\r\n            data.append(\"ITEM_type\", form.itemType);\r\n            data.append(\"ITEM_group\", form.group);\r\n            data.append(\"ITEM_type_ref\", form.type);\r\n            data.append(\"ITEM_category\", form.category);\r\n            data.append(\"ITEM_description\", form.description);\r\n            data.append(\"ITEM_uom\", form.uom);\r\n            data.append(\"ITEM_warranty\", form.warranty);\r\n            data.append(\"ITEM_reorder_level\", form.reorderLevel);\r\n            data.append(\"ITEM_reorder_qty\", form.reorderQty);\r\n            data.append(\"ITEM_min_level\", form.minLevel);\r\n            data.append(\"ITEM_max_level\", form.maxLevel);\r\n            data.append(\"ITEM_purchase_price\", form.purchasingPrice);\r\n            data.append(\"ITEM_normal_selling_price\", form.sellingPrice);\r\n            data.append(\"ITEM_has_barcode\", form.barcodeAvailable);\r\n            data.append(\"ITEM_barcode\", form.barcode);\r\n            data.append(\"ITEM_invoicable\", form.invoicable);\r\n            data.append(\"ITEM_active\", form.active);\r\n            data.append(\"ITEM_serial_number\", form.serialNumber);\r\n            data.append(\"ITEM_model_number\", form.modelNumber);\r\n            data.append(\"ITEM_spec\", form.spec);\r\n            data.append(\"ITEM_brand_name\", form.brandName);\r\n            data.append(\"ITEM_origin_country\", form.originCountry);\r\n            data.append(\"ITEM_certificate\", form.certificate);\r\n            data.append(\"ITEM_name\", form.name);\r\n            data.append(\"power\", form.power);\r\n            data.append(\"voltage\", form.voltage);\r\n            data.append(\"temp_range\", form.tempRange);\r\n            data.append(\"housing_material\", form.housingMaterial);\r\n            data.append(\"ITEM_dimension\", form.dimension);\r\n            data.append(\"ITEM_net_weight\", form.netWeight);\r\n\r\n            // ✅ Append ITEM_notes one by one\r\n            form.notes.forEach(note => {\r\n                data.append(\"ITEM_notes\", note || \"\");\r\n            });\r\n\r\n            // File upload\r\n            if (imageFile) {\r\n                data.append(\"image\", imageFile);\r\n            }\r\n\r\n            const res = await axios.post(API, data, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data',\r\n                },\r\n                transformRequest: (formData) => formData  // Prevent Axios serialization\r\n            });\r\n\r\n            if (res.status === 201) {\r\n                alert(\"✅ Item saved!\");\r\n                resetForm();\r\n                fetchItems();\r\n            }\r\n        } catch (err) {\r\n            console.error(\"❌ Axios Error:\", err);\r\n            if (err.response?.data) {\r\n                let msg = \"Error:\\n\";\r\n                for (let key in err.response.data) {\r\n                    const value = err.response.data[key];\r\n                    if (Array.isArray(value)) {\r\n                        msg += `${key}: ${value.join(', ')}\\n`;\r\n                    } else {\r\n                        msg += `${key}: ${value}\\n`;\r\n                    }\r\n                }\r\n                alert(msg);\r\n            } else {\r\n                alert(\"Unknown error saving item\");\r\n            }\r\n        }\r\n    }, [form, fetchItems, imageFile]);\r\n\r\n\r\n\r\n\r\n\r\n    const removeItem = () => {\r\n        if (!form.code) return alert(\"Enter a code to remove.\");\r\n        alert(\"Remove not implemented (demo).\");\r\n    };\r\n\r\n    const printBarcode = () => {\r\n        if (!form.barcodeAvailable) return alert(\"Barcode not available.\");\r\n        alert(`Printing ${form.barcode} – Qty ${form.printQty}`);\r\n    };\r\n    const handleImageUpload = (e) => {\r\n        const file = e.target.files[0];\r\n        if (file) {\r\n            setForm((prev) => ({ ...prev, image: file }));\r\n        }\r\n    };\r\n    /* ---------- shortcuts ---------- */\r\n    useEffect(() => {\r\n        const onKey = (e) => {\r\n            if (e.ctrlKey && e.key.toLowerCase() === \"s\") { e.preventDefault(); saveItem(); }\r\n            else if (e.ctrlKey && e.key.toLowerCase() === \"n\") { e.preventDefault(); resetForm(); }\r\n            else if (e.key === \"F2\") { e.preventDefault(); codeInputRef.current?.focus(); }\r\n            else if (e.key === \"Escape\") { e.preventDefault(); navigate(\"/stockcontrol\"); }\r\n        };\r\n        window.addEventListener(\"keydown\", onKey);\r\n        return () => window.removeEventListener(\"keydown\", onKey);\r\n    }, [saveItem, navigate]);\r\n\r\n    /* ---------- search ---------- */\r\n    const [searchCode, setSearchCode] = useState(\"\");\r\n    const [searchDesc, setSearchDesc] = useState(\"\");\r\n\r\n    // …and update `filtered`:\r\n    const filtered = useMemo(\r\n        () =>\r\n            items.filter(\r\n                i =>\r\n                    i.code.toLowerCase().includes(searchCode.toLowerCase()) &&\r\n                    i.description?.toLowerCase().includes(searchDesc.toLowerCase())\r\n            ),\r\n        [items, searchCode, searchDesc]\r\n    );\r\n\r\n    return (\r\n        <div className=\"item-master-container\">\r\n            <div className=\"title\">Item Master</div>\r\n\r\n            <div className=\"form-section\">\r\n                <div className=\"left-column\">\r\n                    <div className=\"row\">\r\n                        <label>Code</label>\r\n                        <input\r\n                            name=\"code\"\r\n                            value={form.code}\r\n                            onChange={onChange}\r\n                            ref={codeInputRef}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"row\">\r\n\r\n                        <label>Group</label>\r\n                        <select name=\"group\" value={form.group} onChange={onChange}>\r\n                            <option value=\"\">Select</option>\r\n                            {groupOptions.map((g) => (\r\n                                <option key={g.GROUP_code} value={g.GROUP_code}>\r\n                                    {g.GROUP_code} - {g.GROUP_description}\r\n                                </option>\r\n                            ))}\r\n                        </select>\r\n\r\n\r\n                        <label>Type</label>\r\n                        <select name=\"type\" value={form.type} onChange={onChange}>\r\n                            <option value=\"\">Select</option>\r\n                            {typeOptions.map(t => (\r\n                                <option key={t.TYPE_code} value={t.TYPE_code}>\r\n                                    {t.TYPE_code} - {t.TYPE_description}\r\n                                </option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div className=\"row\">\r\n                        <label>Description</label>\r\n                        <textarea\r\n                            name=\"description\"\r\n                            rows=\"3\"\r\n                            value={form.description}\r\n                            onChange={onChange}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"row\">\r\n                        <label>Re-order Level</label>\r\n                        <input\r\n                            type=\"number\"\r\n                            name=\"reorderLevel\"\r\n                            value={form.reorderLevel}\r\n                            onChange={onChange}\r\n                        />\r\n                        <label>Re-order QTY</label>\r\n                        <input\r\n                            type=\"number\"\r\n                            name=\"reorderQty\"\r\n                            value={form.reorderQty}\r\n                            onChange={onChange}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"row\">\r\n                        <label>Min Level</label>\r\n                        <input\r\n                            type=\"number\"\r\n                            name=\"minLevel\"\r\n                            value={form.minLevel}\r\n                            onChange={onChange}\r\n                        />\r\n                        <label>Max Level</label>\r\n                        <input\r\n                            type=\"number\"\r\n                            name=\"maxLevel\"\r\n                            value={form.maxLevel}\r\n                            onChange={onChange}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"status-column\">\r\n                    <div className=\"checkbox-section\">\r\n                        <label className=\"checkbox-label\">\r\n                            <input\r\n                                type=\"checkbox\"\r\n                                name=\"active\"\r\n                                checked={form.active}\r\n                                onChange={onChange}\r\n                            />\r\n                            Active\r\n                            <input\r\n                                type=\"checkbox\"\r\n                                name=\"invoicable\"\r\n                                checked={form.invoicable}\r\n                                onChange={onChange}\r\n                            />\r\n                            Invoicable\r\n                        </label>\r\n                    </div>\r\n                    <br />\r\n\r\n                    <div className=\"inline-field\">\r\n                        <label>Category</label>\r\n                        <select name=\"category\" value={form.category} onChange={onChange}>\r\n                            <option value=\"\">Select</option>\r\n                            {categoryOptions.map((cat) => (\r\n                                <option key={cat.CATEGORY_code} value={cat.CATEGORY_code}>\r\n                                    {cat.CATEGORY_code} - {cat.CATEGORY_description}\r\n                                </option>\r\n                            ))}\r\n                        </select>\r\n\r\n                    </div>\r\n\r\n                    <div className=\"inline-field\">\r\n                        <label>UOM</label>\r\n                        <select name=\"uom\" value={form.uom} onChange={onChange}>\r\n                            <option value=\"\">Select</option>\r\n                            <option value=\"1\">Liters(L)</option>\r\n                            <option value=\"2\">Milliliters(mL)</option>\r\n                            <option value=\"3\">Kilograms(kg)</option>\r\n                            <option value=\"4\">Grams(g)</option>\r\n                            <option value=\"5\">Millimeters(m)</option>\r\n                            <option value=\"6\">meters(m)</option>\r\n                            <option value=\"7\">Inches(in)</option>\r\n                            <option value=\"8\">feet(ft)</option>\r\n                            <option value=\"9\">yards(yd)</option>\r\n                            <option value=\"10\">Units</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div className=\"inline-field\">\r\n                        <label>Warranty</label>\r\n                        <select name=\"warranty\" value={form.warranty} onChange={onChange}>\r\n                            <option value=\"\">Select</option>\r\n                            <option value=\"1\">Yes</option>\r\n                            <option value=\"2\">No</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div className=\"row\">\r\n                        <label>Item Code</label>\r\n                        <input\r\n                            name=\"code\"\r\n                            value={form.code}\r\n                            onChange={onChange}\r\n                            ref={codeInputRef}\r\n                            disabled={form.itemType === \"warranty\"} // system-generated\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"row\">\r\n                        <label>Item Type</label>\r\n                        <select\r\n                            value={form.itemType}\r\n                            onChange={(e) => {\r\n                                const selected = e.target.value;\r\n                                setForm((prev) => ({ ...prev, itemType: selected }));\r\n\r\n                                if (selected === \"\") {\r\n                                    setShowWarrantyModal(false);  // Don't open popup when selecting default\r\n                                } else {\r\n                                    setShowWarrantyModal(true);   // Always open popup for any valid selection\r\n                                }\r\n\r\n                                if (selected !== \"warranty\") {\r\n                                    setForm((prev) => ({ ...prev, serialNumber: \"\" }));\r\n                                }\r\n                            }}\r\n                        >\r\n                            <option value=\"\">-- Select --</option>\r\n                            <option value=\"warranty\">Warranty</option>\r\n                            <option value=\"non-warranty\">Non-Warranty</option>\r\n                            <option value=\"utensil\">Utensil</option>\r\n                            <option value=\"spare\">Spare Part</option>\r\n                        </select>\r\n\r\n                    </div>\r\n\r\n\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"bottom-section\">\r\n                <fieldset className=\"price-box\">\r\n                    <legend>Prices</legend>\r\n                    <div className=\"row\">\r\n                        <label>Purchasing Price</label>\r\n                        <input\r\n                            type=\"number\"\r\n                            name=\"purchasingPrice\"\r\n                            value={form.purchasingPrice}\r\n                            onChange={onChange}\r\n                        />\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <label>Min Selling Price</label>\r\n                        <input\r\n                            type=\"number\"\r\n                            name=\"sellingPrice\"\r\n                            value={form.sellingPrice}\r\n                            onChange={onChange}\r\n                        />\r\n                    </div>\r\n                </fieldset>\r\n\r\n                <fieldset className=\"barcode-box\">\r\n                    <legend>\r\n                        <label>\r\n                            <input\r\n                                type=\"checkbox\"\r\n                                name=\"barcodeAvailable\"\r\n                                checked={form.barcodeAvailable}\r\n                                onChange={onChange}\r\n                            />\r\n                            Barcode Available\r\n                        </label>\r\n                    </legend>\r\n\r\n                    <div className=\"inline-field\">\r\n                        <label>Barcode</label>\r\n                        <input\r\n                            name=\"barcode\"\r\n                            value={form.barcode}\r\n                            onChange={onChange}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"inline-field\">\r\n                        <label>Print QTY</label>\r\n                        <input\r\n                            type=\"number\"\r\n                            name=\"printQty\"\r\n                            value={form.printQty}\r\n                            onChange={onChange}\r\n                        />\r\n                    </div>\r\n\r\n                    <button type=\"button\" onClick={printBarcode}>Print</button>\r\n                </fieldset>\r\n            </div>\r\n\r\n            <div className=\"button-group\">\r\n                <button onClick={saveItem}>Save</button>\r\n                <button onClick={resetForm}>New</button>\r\n                <button onClick={removeItem}>Remove</button>\r\n                <button onClick={async () => {\r\n                    const res = await axios.get(`/api/price-list/pdf/`, { responseType: 'blob' });\r\n                    const url = window.URL.createObjectURL(new Blob([res.data], { type: 'application/pdf' }));\r\n                    window.open(url, \"_blank\");\r\n                }}>\r\n                    Download Price List PDF\r\n                </button>\r\n\r\n            </div>\r\n\r\n            <div className=\"search-section\">\r\n                <h4>Item Search</h4>\r\n                <div className=\"row\">\r\n                    <input\r\n                        placeholder=\"Code\"\r\n                        value={searchCode}\r\n                        onChange={e => setSearchCode(e.target.value)}\r\n                    />\r\n                    <input\r\n                        placeholder=\"Description\"\r\n                        value={searchDesc}\r\n                        onChange={e => setSearchDesc(e.target.value)}\r\n                    />\r\n                </div>\r\n\r\n                <table>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Code</th>\r\n                            <th>Item Description</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {filtered.length ? (\r\n                            filtered.map(it => (\r\n                                <tr key={it.id}>\r\n                                    <td>{it.code}</td>\r\n                                    <td>{it.description}</td>\r\n                                </tr>\r\n                            ))\r\n                        ) : (\r\n                            <tr>\r\n                                <td colSpan=\"2\" style={{ textAlign: \"center\" }}>\r\n                                    No matching items\r\n                                </td>\r\n                            </tr>\r\n                        )}\r\n                    </tbody>\r\n                </table>\r\n\r\n            </div>\r\n\r\n            <div className=\"footer-hint\">\r\n                Save = Ctrl+S | New = Ctrl+N | Focus Search = F2 | Exit = Esc\r\n            </div>\r\n\r\n            {showWarrantyModal && (\r\n                <div className=\"modal-overlay\">\r\n                    <div className=\"modal-content\">\r\n                        <h2>Enter Item Details</h2>\r\n                        <div className=\"space-y-3\">\r\n\r\n                            <input type=\"text\" placeholder=\"Name\" value={form.name} onChange={(e) => setForm({ ...form, name: e.target.value })} />\r\n\r\n                            <input type=\"text\" placeholder=\"Model Number\" value={form.modelNumber} onChange={(e) => setForm({ ...form, modelNumber: e.target.value })} />\r\n\r\n                            <input type=\"text\" placeholder=\"Spec/Capacity\" value={form.spec} onChange={(e) => setForm({ ...form, spec: e.target.value })} />\r\n\r\n                            <input type=\"text\" placeholder=\"Power\" value={form.power} onChange={(e) => setForm({ ...form, power: e.target.value })} />\r\n\r\n                            <input type=\"text\" placeholder=\"Voltage\" value={form.voltage} onChange={(e) => setForm({ ...form, voltage: e.target.value })} />\r\n\r\n                            <input type=\"text\" placeholder=\"Temp. Range\" value={form.tempRange} onChange={(e) => setForm({ ...form, tempRange: e.target.value })} />\r\n\r\n                            <input type=\"text\" placeholder=\"Housing Material\" value={form.housingMaterial} onChange={(e) => setForm({ ...form, housingMaterial: e.target.value })} />\r\n\r\n                            {/* Special Notes */}\r\n                            {[...Array(5)].map((_, i) => (\r\n                                <input key={i} type=\"text\" placeholder={`Special Note 0${i + 1}`}\r\n                                    value={form.notes[i]}\r\n                                    onChange={(e) => {\r\n                                        const newNotes = [...form.notes];\r\n                                        newNotes[i] = e.target.value;\r\n                                        setForm((prev) => ({ ...prev, notes: newNotes }));\r\n                                    }}\r\n                                />\r\n                            ))}\r\n\r\n                            <input type=\"text\" placeholder=\"Dimension\" value={form.dimension} onChange={(e) => setForm({ ...form, dimension: e.target.value })} />\r\n\r\n                            <input type=\"text\" placeholder=\"Net Weight\" value={form.netWeight} onChange={(e) => setForm({ ...form, netWeight: e.target.value })} />\r\n\r\n                            <input type=\"text\" placeholder=\"Brand Name\" value={form.brandName} onChange={(e) => setForm({ ...form, brandName: e.target.value })} />\r\n\r\n                            <input type=\"text\" placeholder=\"Country of Origin\" value={form.originCountry} onChange={(e) => setForm({ ...form, originCountry: e.target.value })} />\r\n\r\n                            <input type=\"text\" placeholder=\"Certificate\" value={form.certificate} onChange={(e) => setForm({ ...form, certificate: e.target.value })} />\r\n\r\n                            {/* Serial Number — only editable for Warranty */}\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"Serial Number\"\r\n                                value={form.serialNumber}\r\n                                onChange={(e) => setForm({ ...form, serialNumber: e.target.value })}\r\n                                disabled={form.itemType !== \"warranty\"}\r\n                            />\r\n\r\n                            {/* Image Upload — always enabled */}\r\n                            <input\r\n                                type=\"file\"\r\n                                accept=\"image/*\"\r\n                                onChange={(e) => {\r\n                                    const file = e.target.files[0];\r\n                                    if (file) {\r\n                                        setImageFile(file);\r\n                                        setForm((prev) => ({ ...prev, image: file.name }));\r\n                                    }\r\n                                }}\r\n                            />\r\n\r\n                        </div>\r\n\r\n                        <div className=\"button-group\" style={{ marginTop: '20px', justifyContent: 'flex-end' }}>\r\n                            <button onClick={() => setShowWarrantyModal(false)}>Cancel</button>\r\n                            <button onClick={() => setShowWarrantyModal(false)}>Done</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n\r\n\r\n        </div >\r\n\r\n\r\n\r\n\r\n    );\r\n\r\n    {\r\n        form.itemType === \"warranty\" && (\r\n            <>\r\n                <div className=\"row\">\r\n                    <label>Model Number</label>\r\n                    <input name=\"modelNumber\" value={form.modelNumber} onChange={onChange} />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label>Name</label>\r\n                    <input name=\"name\" value={form.name} onChange={onChange} />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label>Spec / Capacity</label>\r\n                    <input name=\"spec\" value={form.spec} onChange={onChange} />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label>Serial Number</label>\r\n                    <input name=\"serialNumber\" value={form.serialNumber} onChange={onChange} />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label>Brand Name</label>\r\n                    <input name=\"brandName\" value={form.brandName} onChange={onChange} />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label>Country of Origin</label>\r\n                    <input name=\"originCountry\" value={form.originCountry} onChange={onChange} />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label>Certificate</label>\r\n                    <input name=\"certificate\" value={form.certificate} onChange={onChange} />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label>Power</label>\r\n                    <input name=\"power\" value={form.power} onChange={onChange} />\r\n                </div>\r\n                <div className=\"row\">\r\n                    <label>Voltage</label>\r\n                    <input name=\"voltage\" value={form.voltage} onChange={onChange} />\r\n                </div>\r\n                <div className=\"row\">\r\n                    <label>Temperature Range</label>\r\n                    <input name=\"tempRange\" value={form.tempRange} onChange={onChange} />\r\n                </div>\r\n                <div className=\"row\">\r\n                    <label>Housing Material</label>\r\n                    <input name=\"housingMaterial\" value={form.housingMaterial} onChange={onChange} />\r\n                </div>\r\n                <div className=\"row\">\r\n                    <label>Dimension</label>\r\n                    <input name=\"dimension\" value={form.dimension} onChange={onChange} />\r\n                </div>\r\n                <div className=\"row\">\r\n                    <label>Net Weight</label>\r\n                    <input name=\"netWeight\" value={form.netWeight} onChange={onChange} />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label>Upload Image</label>\r\n                    <input type=\"file\" accept=\"image/*\" onChange={handleImageUpload} />\r\n                </div>\r\n\r\n                {[...Array(5)].map((_, i) => (\r\n                    <div className=\"row\" key={i}>\r\n                        <label>Special Note 0{i + 1}</label>\r\n                        <input\r\n                            name={`notes[${i}]`}\r\n                            value={form.notes[i]}\r\n                            onChange={(e) => {\r\n                                const newNotes = [...form.notes];\r\n                                newNotes[i] = e.target.value;\r\n                                setForm((prev) => ({ ...prev, notes: newNotes }));\r\n                            }}\r\n                        />\r\n                    </div>\r\n                ))}\r\n            </>\r\n\r\n\r\n        )\r\n    }\r\n\r\n    {\r\n        form.itemType === \"utensil\" && (\r\n            <>\r\n                <div className=\"row\">\r\n                    <label>Model No</label>\r\n                    <input name=\"modelNumber\" value={form.modelNumber} onChange={onChange} />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label>Spec / Capacity</label>\r\n                    <input name=\"spec\" value={form.spec} onChange={onChange} />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label>Dimension</label>\r\n                    <input name=\"dimension\" value={form.dimension || \"\"} onChange={onChange} />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label>Net Weight</label>\r\n                    <input name=\"netWeight\" value={form.netWeight || \"\"} onChange={onChange} />\r\n                </div>\r\n\r\n                {[...Array(3)].map((_, i) => (\r\n                    <div className=\"row\" key={i}>\r\n                        <label>Special Note 0{i + 1}</label>\r\n                        <input\r\n                            name={`notes[${i}]`}\r\n                            value={form.notes[i]}\r\n                            onChange={(e) => {\r\n                                const newNotes = [...form.notes];\r\n                                newNotes[i] = e.target.value;\r\n                                setForm((prev) => ({ ...prev, notes: newNotes }));\r\n                            }}\r\n                        />\r\n                    </div>\r\n                ))}\r\n            </>\r\n        )\r\n    }\r\n\r\n    {\r\n        form.id && (\r\n            <button onClick={async () => {\r\n                const res = await axios.get(`/api/item/${form.id}/pdf/`, { responseType: 'blob' });\r\n                const url = window.URL.createObjectURL(new Blob([res.data], { type: 'application/pdf' }));\r\n                window.open(url, \"_blank\");\r\n            }}>\r\n                Download Warranty PDF\r\n            </button>\r\n        )\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n};\r\n\r\nexport default ItemMaster;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}